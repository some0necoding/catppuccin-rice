"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4843],{34947:(t,e,o)=>{o.r(e),o.d(e,{FeatureIntroPopup:()=>b,default:()=>B});var i=o(77094),n=o.n(i),r=o(67294),a=o(81954),l=o(24405),s=o(8848),d=o(66673),u=o(3779),g=o(5366),c=o(82990),p=o(42922),m=o(73063),h=o(89728),f=o(44532);const y=function(t){const{imageSrc:e,imageStyles:o,title:i,subtitle:a}=t,s=(0,l.yK)((t=>({content:{padding:"0 24px",height:90},title:{fontSize:c.Z.fontSize.UIRegular.desktop,fontWeight:c.Z.fontWeight.semibold,marginBottom:5,marginTop:16},subtitle:{fontSize:c.Z.fontSize.UIRegular.desktop,color:t.mediumTextColor},image:{display:"flex",margin:"auto"},imageWrapper:{borderBottom:`1px solid ${t.lightDividerColor}`,display:"flex"}})),[]);return r.createElement(r.Fragment,null,n()("div",{style:s.imageWrapper},void 0,n()("img",{style:{...s.image,...o},src:e},e)),n()("div",{style:s.content},void 0,n()("div",{style:s.title},void 0,i),n()("div",{style:s.subtitle},void 0,a)))};const v=function(t){const e=(0,l.yK)((t=>({headerContainer:{display:"flex",marginTop:12,marginBottom:8,justifyContent:"center"},headerText:{fontWeight:c.Z.fontWeight.medium},iconContainer:{display:"flex",justifyContent:"center"},icon:{width:24,height:24,fill:t.mediumIconColor,marginTop:4},description:{fontSize:14,color:t.mediumTextColor,marginBottom:16,textAlign:"center"}})),[]);return r.createElement(r.Fragment,null,t.icon&&n()("div",{style:e.iconContainer},void 0,t.icon(t.iconStyle?t.iconStyle:e.icon)),n()("div",{style:e.headerContainer},void 0,n()("div",{style:e.headerText},void 0,t.header)),n()("div",{style:e.description},void 0,t.description))};function b(t){window.__c={n:"FeatureIntroPopup"};const{children:e,initialPromo:o,steps:i,isUserEligible:b=!0,placementToOrigin:B,alignmentToOrigin:k,seenFeatureUserSetting:x,userSettingsStore:C,allowExternalMouseEvents:S,onDismiss:F,onTryFeatureClick:T,onPopupSeen:I,onLearnMore:M,ctaMessage:Z}=t,w=(0,g.useIntl)(),P=(0,l.yK)((t=>({popupContainer:{background:"light"===t.mode?t.contentBackground:t.sidebarBackground,borderRadius:8,width:320,padding:"20px 20px 16px",boxShadow:t.mediumBoxShadow},button:{display:"flex",alignItems:"center",justifyContent:"center"},dismissButton:{marginTop:10},closeButton:{position:"absolute",top:10,right:10,padding:0,borderRadius:"50%",height:24,width:24,background:t.buttonHoveredBackground},closeButtonHoveredStyle:{backgroundColor:t.buttonPressedBackground},closeButtonIcon:{width:14,height:14,fill:"light"===t.mode?s.FN.light.gray[400]:s.FN.dark.opaquegray[600]},backButton:{marginRight:8,fontWeight:c.Z.fontWeight.medium},nextButton:{fontWeight:c.Z.fontWeight.medium},inactiveDot:{fill:t.lightIconColor},dot:{width:6,height:6,marginRight:8},footer:{marginLeft:24,marginRight:24,marginBottom:16,marginTop:8,alignItems:"center",height:28,display:"flex"}})),[]),[E,W]=(0,r.useState)(0),L=(0,r.useCallback)((()=>{const t=null==C?void 0:C.getSettings();return!t||Boolean(!0===t[x])}),[x,C]),R=(0,a.VK)((()=>!L()&&b),[L,b]),D=(0,r.useCallback)((()=>{W(E+1),null==M||M()}),[E,M]),z=(0,d.D9)(R);return(0,r.useEffect)((()=>{R&&!z&&(null==I||I())}),[R,I,z]),n()(f.ZP,{popupType:f.ZP.PopupType.Popup,open:R,origin:e,placementToOrigin:B,alignmentToOrigin:k,originGap:15,disableMouseCapture:S,render:()=>{const t=0===E,e=t?r.createElement(v,o):r.createElement(y,i[E-1]),a=t?r.createElement(r.Fragment,null,n()(p.Z,{style:P.button,onClick:D,isLarge:!0},void 0,Z||n()(g.FormattedMessage,{id:"FeatureIntroPopup.learnMore.text",description:"Text for a button to learn more about a feature",defaultMessage:"Learn more"})),n()(h.Z,{onClick:F,isLightGray:!0,style:{...P.button,...P.dismissButton}},void 0,n()(g.FormattedMessage,{id:"FeatureIntroPopup.dismissButton.text",description:"Text for a button to dismiss the popup",defaultMessage:"Dismiss"}))):n()("div",{style:P.footer},void 0,n()("div",{style:{display:"flex"}},void 0,[...Array(i.length)].map(((t,e)=>{let o=P.dot;return o=e===E-1?{...o}:{...o,...P.inactiveDot},e===i.length&&(o={...o,marginRight:0}),u.Z.dot(o)}))),n()("div",{style:{...P.button,marginLeft:"auto"}},void 0,E>1&&n()(h.Z,{onClick:()=>W(E-1),style:P.backButton,isGray:!0},void 0,n()(g.FormattedMessage,{id:"FeatureIntroPopup.backButton",description:"Button to navigate to the previous step of the prompt.",defaultMessage:"Back"})),E<i.length&&n()(h.Z,{onClick:()=>W(E+1),style:P.nextButton,isBlue:!0},void 0,n()(g.FormattedMessage,{id:"FeatureIntroPopup.nextButton",description:"Button to navigate to the next step of the prompt.",defaultMessage:"Next"})),E===i.length&&n()(p.Z,{onClick:T},void 0,n()(g.FormattedMessage,{id:"FeatureIntroPopup.tryItOut.button",description:"Button to try the new wiki feature out. Clicking it automatically converts the page to a wiki.",defaultMessage:"Try it out"}))));return r.createElement(r.Fragment,null,e,n()(m.Z,{icon:u.Z.closeSmall,style:P.closeButton,hoveredStyle:P.closeButtonHoveredStyle,iconStyle:P.closeButtonIcon,disableBackground:!0,onClick:F,ariaLabel:w.formatMessage({id:"FeatureIntroPopup.closeButton.ariaLabel",description:"Aria label for a close button",defaultMessage:"Close"})}),a)},style:0===E?P.popupContainer:{...P.popupContainer,padding:void 0}})}const B=b}}]);