"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5645],{78737:(e,t,o)=>{o.r(t),o.d(t,{AutomationModal:()=>C});var n=o(77094),i=o.n(n),a=o(67294),r=o(480),c=o(81954),l=o(24405),s=o(63362),d=o(5366),u=o(82990),p=o(17809),m=o(63474),f=o(79315),g=o(58454),b=o(3815),y=o(42922),v=o(1743),S=o(22346),w=o(89728),x=o(31278),h=o(65187);const k=(0,d.defineMessages)({confirmationDialogAriaLabel:{defaultMessage:"Confirmation",id:"automations.ConfirmationDialog.ariaLabel",description:"The aria label used to label the confirmation dialog"}});function C(){window.__c={n:"AutomationModal"};const e=(0,c.VK)((()=>g.Z.state),[]),t=(0,r.Fy)(),o=(0,c.VK)((()=>t.isPhone),[t]),n=(0,l.yK)((e=>({innerStyle:{padding:24,width:o?"calc(100% - 20px)":320}})),[o]),d=(0,m.D)(),u=(0,c.VK)((()=>{var e;return null===(e=f.default.state.currentSpaceViewStore)||void 0===e?void 0:e.getSpaceId()}),[]),p=(0,a.useCallback)((e=>{g.Z.setState({open:!1,result:e});const t=g.Z.state;(0,s.W5)(d,{automation_id:t.open&&t.recordStore instanceof b.Mz?t.recordStore.id:void 0,option:e})}),[d]),y=(0,a.useCallback)((()=>p("cancel")),[p]),v=function(){const e=(0,c.VK)((()=>g.Z.state),[]),[t,o]=(0,a.useReducer)(((e,t)=>e+1),1),n=(0,a.useRef)(void 0);return(0,a.useEffect)((()=>{e.open&&e.format!==n.current&&(o(void 0),n.current=e.format)}),[e,n]),t}();return i()(S.Z,{open:e.open,keepFocus:!0,innerStyle:n.innerStyle,disableAnimation:!0,onDismiss:y,render:()=>e.open&&u&&i()(Z,{id:`${v}`,modalState:e,currentSpaceId:u,onDismiss:p},`${v}`)})}function Z(e){window.__c={n:"OpenAutomationModal"};const{id:t,modalState:o,currentSpaceId:n,onDismiss:r}=e,{icon:c}=o.format,s=(0,d.useIntl)(),m=(0,a.useRef)(null);(0,a.useEffect)((()=>{null!==m.current&&m.current.focus()}),[]);const f=(0,l.yK)((e=>({wrap:{display:"flex",flexDirection:"column"},buttonWrap:{display:"flex",flexDirection:"column",gap:10,marginTop:10},textWrap:{whiteSpace:"pre-wrap",wordBreak:"break-word",textAlign:"center",fontWeight:u.Z.fontWeight.medium,marginTop:10,marginBottom:10,display:"flex",flexDirection:"column",alignItems:"center"},icon:{marginBottom:10},cancelButton:{justifyContent:"center"}})),[]),{store:g}=(0,p.Cl)({parentSpaceId:n,initialValue:o.format.text,onChange:()=>{}}),b=[a.createElement(y.Z,{key:"continue",isLarge:!0,onClick:()=>r("continue"),ref:m},o.format.continueButtonText),i()(w.Z,{isLarge:!0,onClick:()=>r("cancel"),isLightGray:!0,style:f.cancelButton},"cancel",o.format.cancelButtonText)],S=`automation-modal-dialog-${t}`;return i()(v.Z,{capture:!0,allowEsc:!0},void 0,i()("div",{"aria-modal":"true","aria-label":s.formatMessage(k.confirmationDialogAriaLabel),"aria-describedby":S,role:"dialog",style:f.wrap},void 0,i()("div",{style:f.textWrap},void 0,c&&i()("div",{style:f.icon},void 0,i()(x.Z,{size:50,icon:{icon:c,pointer:o.recordStore.pointer},disabled:!0,isEmptyPage:!1,bucket:"public",onChange:()=>{}})),i()("div",{id:S},void 0,i()(h.Z,{disabled:!0,store:g,parentStore:o.recordStore}))),i()("div",{style:f.buttonWrap},void 0,b)))}}}]);